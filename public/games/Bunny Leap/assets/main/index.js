System.register("chunks:///_virtual/ball.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,n,o,s,a,l,p,c,u,h,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.SpriteFrame,l=t.Collider2D,p=t.Contact2DType,c=t.RigidBody2D,u=t.v2,h=t.Sprite,g=t.Component}],execute:function(){var m,f,y,F,C,_,d;o._RF.push({},"7f2131AtlxGErVI1kFW2Qxj","ball",void 0);var v=s.ccclass,b=s.property;t("Ball",(m=v("Ball"),f=b({type:a}),y=b({type:a}),m((_=i((C=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,r(i,"spriteFrame1",_,n(i)),r(i,"spriteFrame2",d,n(i)),i._initVel=0,i._isUsingFirstSprite=!0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){console.log("onLoad"),this.getComponent(l).on(p.BEGIN_CONTACT,this.onBeginContact,this)},o.onDestroy=function(){this.getComponent(l).off(p.BEGIN_CONTACT,this.onBeginContact,this)},o.onBeginContact=function(t,i,e){var r=t.getComponent(c);this._initVel||(this._initVel=r.linearVelocity.y),r.linearVelocity=u(0,Math.max(this._initVel,-30));var n=this.getComponent(h);n&&this.spriteFrame1&&this.spriteFrame2&&(n.spriteFrame=this._isUsingFirstSprite?this.spriteFrame2:this.spriteFrame1,this._isUsingFirstSprite=!this._isUsingFirstSprite)},i}(g)).prototype,"spriteFrame1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=i(C.prototype,"spriteFrame2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=C))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/block.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,e,r,c,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.BoxCollider2D,c=t.UITransform,i=t.Component}],execute:function(){var s;n._RF.push({},"4a96cpOEPRG55LfN2lhk0to","block",void 0);var u=e.ccclass;e.property,t("Block",u("Block")(s=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.start=function(){},e.init=function(t){this.node.getComponent(r).size.width=t,this.node.getComponent(c).width=t},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./block.ts"],(function(o){var e,t,i,n,r,s,l,a,c,h,p,u,b,f,g,d,k;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,l=o.Prefab,a=o.Node,c=o.Label,h=o.SystemEvent,p=o.view,u=o.UITransform,b=o.RigidBody2D,f=o.v2,g=o.instantiate,d=o.Component},function(o){k=o.Block}],execute:function(){var m,y,v,S,_,P,x,w,A;r._RF.push({},"f9765drk/JEqaLSt8xPsQrc","game",void 0);var B=s.ccclass,T=s.property;o("Game",(m=B("Game"),y=T(l),v=T(a),S=T(c),m((x=e((P=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=o.call.apply(o,[this].concat(r))||this).gap=300,e.gameStart=!1,i(e,"block",x,n(e)),i(e,"ball",w,n(e)),e.blockArray=[],i(e,"scope",A,n(e)),e.scopetext=0,e}t(e,o);var r=e.prototype;return r.onLoad=function(){this.block||console.error("Block prefab is not assigned!"),this.ball||console.error("Ball node is not assigned!"),this.scope||console.error("Scope label is not assigned!"),this.node.on(h.EventType.TOUCH_START,this._touchStart,this),this._initblock()},r.onDestroy=function(){this.node.off(h.EventType.TOUCH_START,this._touchStart,this)},r.update=function(o){var e=this;if(this.ball){if(Math.abs(this.ball.getPosition().y)>p.getVisibleSize().y)this._gameOver();else if(this.gameStart){var t=-450*o;this.blockArray.forEach((function(o){if(o&&o.isValid){var i=o.getPosition().x+t;o.setPosition(i,0);var n=o.getComponent(u);n?i<-p.getVisibleSize().x/2-n.width/2&&(o.setPosition(e._getLastPos()+e.gap,0),e._increScrop()):console.warn("UITransform missing on block!")}else console.warn("Invalid block in blockArray!")}))}}else console.error("Ball node is missing in update!")},r._touchStart=function(o){if(this.ball){var e=this.ball.getComponent(b);e?(e.linearVelocity=f(0,-80),this.gameStart=!0):console.error("RigidBody2D component missing on ball!")}else console.error("Ball node is not assigned in _touchStart!")},r._getLastPos=function(){var o=0;return this.blockArray.forEach((function(e){e&&e.isValid&&e.getPosition().x>o&&(o=e.getPosition().x)})),o},r._initblock=function(){var o=0;if(this.blockArray=[],this.block){for(var e=0;e<10;e++){var t=g(this.block);if(t){var i=t.getComponent(k);if(i){i.init(50*Math.random()+50),t.setPosition(o,0),this.node.addChild(t),this.blockArray.push(t);var n=t.getComponent(u);console.log("Block "+e+" created at x: "+o+", width: "+(n?n.width:"unknown")),o+=this.gap}else console.error("Block component not found on block "+e)}else console.error("Failed to instantiate block "+e)}console.log("Block array length: "+this.blockArray.length)}else console.error("Cannot initialize blocks: block prefab is null!")},r._restoreblock=function(){var o=this,e=0;this.blockArray.forEach((function(t){t&&t.isValid&&(t.setPosition(e,0),e+=o.gap)}))},r._gameOver=function(){console.log("Game Over"),this.gameStart=!1,this.ball&&this.ball.setPosition(0,250),this._restoreblock(),this._relaseScrop()},r._increScrop=function(){this.scope?(this.scopetext+=1,this.scope.string="score："+this.scopetext):console.error("Scope label is not assigned in _increScrop!")},r._relaseScrop=function(){this.scope?(this.scopetext=0,this.scope.string="score："+this.scopetext):console.error("Scope label is not assigned in _relaseScrop!")},e}(d)).prototype,"block",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"ball",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(P.prototype,"scope",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=P))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./PulseEffect.ts","./SceneSwitcherBar.ts","./ball.ts","./block.ts","./game.ts"],(function(){return{setters:[null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PulseEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,a,t,s,n,l,o,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Vec3,u=e.Component}],execute:function(){var c,r,p,h,m,y,d,f,S,g,P,b,v;n._RF.push({},"1ee39//m8dFxJd3UqYA0YDp","PulseEffect",void 0);var x=l.ccclass,T=l.property;e("PulseEffect",(c=x("PulseEffect"),r=T({displayName:"最小缩放",tooltip:"脉冲动画的最小缩放比例"}),p=T({displayName:"最大缩放",tooltip:"脉冲动画的最大缩放比例"}),h=T({displayName:"动画速度",tooltip:"脉冲动画的速度倍数"}),m=T({type:cc.Enum(["linear","ease-in","ease-out","ease-in-out","sine"]),displayName:"缓动类型",tooltip:"动画的缓动效果类型"}),y=T({displayName:"自动播放",tooltip:"组件加载后是否自动开始播放动画"}),c((S=i((f=function(e){function i(){for(var i,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,t(i,"minScale",S,s(i)),t(i,"maxScale",g,s(i)),t(i,"speed",P,s(i)),t(i,"easing",b,s(i)),t(i,"autoPlay",v,s(i)),i.initialScale=new o,i.pulseTime=0,i.isPlaying=!1,i.isPaused=!1,i.easingNames=["linear","ease-in","ease-out","ease-in-out","sine"],i}a(i,e);var n=i.prototype;return n.onLoad=function(){this.initialScale.set(this.node.getScale()),this.autoPlay&&this.play()},n.applyEasing=function(e,i){switch(i){case"linear":return e;case"ease-in":return e*e;case"ease-out":return e*(2-e);case"ease-in-out":return e<.5?2*e*e:(4-2*e)*e-1;case"sine":default:return Math.sin(e*Math.PI)}},n.calculateScale=function(){var e=.5*Math.sin(this.pulseTime*this.speed)+.5,i=this.easingNames[this.easing]||"sine",a=this.applyEasing(e,i);return this.minScale+(this.maxScale-this.minScale)*a},n.applyScale=function(){var e=this.calculateScale();this.node.setScale(this.initialScale.x*e,this.initialScale.y*e,this.initialScale.z)},n.update=function(e){this.isPlaying&&!this.isPaused&&(this.pulseTime+=e,this.applyScale())},n.play=function(){this.isPlaying=!0,this.isPaused=!1,this.pulseTime=0},n.stop=function(){this.isPlaying=!1,this.isPaused=!1,this.pulseTime=0,this.node.setScale(this.initialScale)},n.pause=function(){this.isPaused=!0},n.resume=function(){this.isPlaying&&(this.isPaused=!1)},n.setConfig=function(e){if(void 0!==e.minScale&&(this.minScale=e.minScale),void 0!==e.maxScale&&(this.maxScale=e.maxScale),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.easing){var i=this.easingNames.indexOf(e.easing);-1!==i&&(this.easing=i)}void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay,e.autoPlay&&!this.isPlaying&&this.play())},n.getStatus=function(){return{isPlaying:this.isPlaying,isPaused:this.isPaused,time:this.pulseTime}},n.resetInitialScale=function(){this.initialScale.set(this.node.getScale())},n.setPulseTime=function(e){this.pulseTime=e},n.onDestroy=function(){this.stop()},i}(u)).prototype,"minScale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=i(f.prototype,"maxScale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),P=i(f.prototype,"speed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),b=i(f.prototype,"easing",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),v=i(f.prototype,"autoPlay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=f))||d)),e("PulsePresets",{gentle:{minScale:1,maxScale:1.05,speed:3,easing:"sine",autoPlay:!0},moderate:{minScale:1,maxScale:1.15,speed:5,easing:"ease-in-out",autoPlay:!0},strong:{minScale:1,maxScale:1.3,speed:8,easing:"sine",autoPlay:!0},heartbeat:{minScale:1,maxScale:1.1,speed:6,easing:"ease-out",autoPlay:!0},breathing:{minScale:.95,maxScale:1.05,speed:2,easing:"ease-in-out",autoPlay:!0}});n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitcherBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,c,s,a,l,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.ProgressBar,a=e.tween,l=e.director,p=e.Component}],execute:function(){var u,h,f,g,y,S,d;i._RF.push({},"bb523o+uc5KupxzzXsZydYX","SceneSwitcherBar",void 0);var w=c.ccclass,b=c.property;e("SceneSwitcher",(u=w("SceneSwitcher"),h=b({type:String,tooltip:"要跳转到的目标场景名称"}),f=b({type:s,tooltip:"用于显示加载进度的进度条"}),u((S=r((y=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(r,"sceneName",S,o(r)),n(r,"progressBar",d,o(r)),r}t(r,e);var i=r.prototype;return i.onLoad=function(){var e=this;this.progressBar?(this.progressBar.progress=0,a(this.progressBar).to(2,{progress:1},{onUpdate:function(e,r){}}).call((function(){e.loadNewScene()})).start()):console.warn("未关联进度条组件，无法显示进度！")},i.loadNewScene=function(){this.sceneName?l.loadScene(this.sceneName):console.error("场景名称未设置，无法跳转！")},r}(p)).prototype,"sceneName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=r(y.prototype,"progressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});