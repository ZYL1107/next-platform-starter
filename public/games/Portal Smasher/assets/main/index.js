System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,a,r,s,o,u,l,h,c,p,f,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.Prefab,u=e.Label,l=e.Node,h=e.Button,c=e.Camera,p=e.UITransform,f=e.instantiate,m=e.director,d=e.Component}],execute:function(){var g,b,x,v,w,C,T,y,O,j,M,S,G,I,z,E,P,L,B,R;r._RF.push({},"93994Ca5w9Au77chg56Uil+","GameManager",void 0);var _=s.ccclass,D=s.property;e("GameManager",(g=_("GameManager"),b=D(o),x=D(u),v=D(u),w=D(u),C=D(l),T=D(u),y=D(h),g((M=t((j=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"prefab",M,a(t)),n(t,"lifeText",S,a(t)),n(t,"extinguishedCountText",G,a(t)),n(t,"timerText",I,a(t)),n(t,"gameOverPanel",z,a(t)),n(t,"finalExtinguishedCountText",E,a(t)),n(t,"restartButton",P,a(t)),n(t,"maxObjects",L,a(t)),n(t,"spawnIntervalMin",B,a(t)),n(t,"spawnIntervalMax",R,a(t)),t.life=5,t.extinguishedCount=0,t.nextSpawnTime=0,t.activeObjects=[],t.mainCamera=null,t.isGameStarted=!1,t.spawnTimer=0,t}i(t,e);var r=t.prototype;return r.start=function(){if(this.node){if(this.life=5,this.extinguishedCount=0,this.isGameStarted=!0,this.spawnTimer=0,this.nextSpawnTime=this.getRandomSpawnInterval(),this.gameOverPanel&&(this.gameOverPanel.active=!1),this.mainCamera=c.main,!this.mainCamera){var e=this.node.scene.getComponentsInChildren(c);e.length>0&&(this.mainCamera=e[0])}this.prefab||console.error("预制体未设置！"),this.updateLifeText(),this.updateExtinguishedCountText(),this.restartButton&&this.restartButton.node.on(h.EventType.CLICK,this.restartGame,this),console.log("GameManager 初始化完成")}},r.update=function(e){this.node&&this.isGameStarted&&(this.activeObjects=this.activeObjects.filter((function(e){return e&&e.isValid})),this.spawnTimer+=e,this.spawnTimer>=this.nextSpawnTime&&this.activeObjects.length<this.maxObjects&&(this.spawnObject(),this.spawnTimer=0,this.nextSpawnTime=this.getRandomSpawnInterval()),this.life<=0&&this.endGame())},r.getRandomSpawnInterval=function(){return Math.random()*(this.spawnIntervalMax-this.spawnIntervalMin)+this.spawnIntervalMin},r.spawnObject=function(){if(this.prefab&&this.mainCamera)try{var e=this.node.getComponent(p),t=e.width,i=e.height,n=.8*t,a=.8*i,r=(Math.random()-.5)*n,s=(Math.random()-.5)*a,o=f(this.prefab);o.setPosition(r,s,0),m.getScene().getChildByName("Canvas").addChild(o),this.activeObjects.push(o)}catch(e){console.error("生成预制体时出错:",e)}else console.error("预制体或摄像机未设置，无法生成对象")},r.updateLifeText=function(){this.lifeText&&(this.lifeText.string="Life: "+this.life)},r.updateExtinguishedCountText=function(){this.extinguishedCountText&&(this.extinguishedCountText.string="Extinguished: "+this.extinguishedCount)},r.deductLife=function(){this.isGameStarted&&(this.life--,this.updateLifeText())},r.endGame=function(){this.isGameStarted=!1,this.gameOverPanel&&(this.gameOverPanel.active=!0),this.finalExtinguishedCountText&&(this.finalExtinguishedCountText.string="Final Extinguished: "+this.extinguishedCount),this.activeObjects.forEach((function(e){e&&e.isValid&&e.destroy()})),this.activeObjects=[]},r.restartGame=function(){m.loadScene(m.getScene().name)},r.onObjectClicked=function(e){this.extinguishedCount++,this.updateExtinguishedCountText();var t=this.activeObjects.indexOf(e);-1!==t&&this.activeObjects.splice(t,1)},t}(d)).prototype,"prefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(j.prototype,"lifeText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(j.prototype,"extinguishedCountText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(j.prototype,"timerText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(j.prototype,"gameOverPanel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(j.prototype,"finalExtinguishedCountText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(j.prototype,"restartButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(j.prototype,"maxObjects",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),B=t(j.prototype,"spawnIntervalMin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),R=t(j.prototype,"spawnIntervalMax",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=j))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameManager.ts","./NativeHelper.ts","./ObjectBehavior.ts","./PulseEffect.ts","./SceneSetup.ts","./SceneSwitcherBar.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NativeHelper.ts",["cc"],(function(t){var e,c,i,a;return{setters:[function(t){e=t.cclegacy,c=t._decorator,i=t.sys,a=t.native}],execute:function(){var o;e._RF.push({},"8ade1TaJDdHRI2LwjXuNWu+","NativeHelper",void 0);var n=c.ccclass;t("NativeHelper",n("NativeHelper")(o=function(){function t(){}return t.setLandscape=function(){i.isNative&&i.os===i.OS.ANDROID&&a.reflection.callStaticMethod("com/cocos/game/AppActivity","setOrientation","(I)V",0)},t.setPortrait=function(){i.isNative&&i.os===i.OS.ANDROID&&a.reflection.callStaticMethod("com/cocos/game/AppActivity","setOrientation","(I)V",1)},t}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,s,n,o,a,p,l,c,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.SpriteFrame,p=e.Sprite,l=e.Button,c=e.director,h=e.resources,u=e.Component}],execute:function(){var d,f,m,g,v,S,b;n._RF.push({},"7134fe/Ql1GGJmfRf+i7sE6","ObjectBehavior",void 0);var y=o.ccclass,C=o.property;e("ObjectBehavior",(d=y("ObjectBehavior"),f=C(a),m=C(a),d((S=t((v=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"sprite1",S,s(t)),r(t,"sprite2",b,s(t)),t.sprite=null,t.spriteMap=new Map,t.isClickable=!1,t.timer=0,t.stage=0,t.initialScale=1,t.pulseTime=0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){var e=this;this.sprite=this.node.getComponent(p),this.initialScale=this.node.getScale().x,this.sprite1&&this.sprite2?(this.spriteMap.set("1",this.sprite1),this.spriteMap.set("2",this.sprite2),this.setSpriteFrame("1")):this.preloadSprites((function(){e.setSpriteFrame("1")}));var t=this.node.getComponent(l);t&&(t.interactable=!1,t.node.on(l.EventType.CLICK,this.onBtnClick,this))},n.preloadSprites=function(e){var t=this,i=["1","2"],r=0;i.forEach((function(s){var n=["spine/"+s,"textures/"+s,"images/"+s,s];t.tryLoadFromPaths(s,n,(function(){++r===i.length&&e&&e()}))}))},n.tryLoadFromPaths=function(e,t,i){var r=this,s=0;!function n(){if(s>=t.length)return console.error("无法加载图片 "+e+"，尝试了所有路径:",t),void i();var o=t[s];h.load(o,a,(function(t,o){t?(s++,n()):(r.spriteMap.set(e,o),i())}))}()},n.setSpriteFrame=function(e){var t=this.spriteMap.get(e);if(t&&this.sprite){this.sprite.spriteFrame=t;var i=this.node.getComponent(l);i&&(i.normalSprite=t,i.pressedSprite=t,i.hoverSprite=t,i.disabledSprite=t)}else console.warn("未找到对应图片:",e)},n.onBtnClick=function(){if(this.isClickable){var e,t=null==(e=this.node.parent)?void 0:e.getComponent("GameManager");t&&"function"==typeof t.onObjectClicked&&t.onObjectClicked(this.node),this.node.destroy()}},n.update=function(e){var t;if(this.timer+=e,this.pulseTime+=e,t=0===this.stage?1+.15*Math.sin(5*this.pulseTime):1===this.stage?1+.3*Math.sin(10*this.pulseTime):1,this.node.setScale(this.initialScale*t,this.initialScale*t,1),0===this.stage)this.timer>=2&&(this.setSpriteFrame("2"),this.isClickable=!0,this.node.getComponent(l).interactable=!0,this.timer=0,this.pulseTime=0,this.stage=1);else if(1===this.stage&&this.timer>=1.5){var i,r=null==(i=c.getScene().getChildByName("Canvas"))?void 0:i.getComponent("GameManager");r&&"function"==typeof r.deductLife&&r.deductLife(),this.node.destroy(),this.stage=2}},t}(u)).prototype,"sprite1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"sprite2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/PulseEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,a,t,s,n,l,o,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Vec3,u=e.Component}],execute:function(){var c,r,p,h,m,y,f,d,S,g,P,b,v;n._RF.push({},"4420eZQxIVHq5mVIP95KiwG","PulseEffect",void 0);var x=l.ccclass,w=l.property;e("PulseEffect",(c=x("PulseEffect"),r=w({displayName:"最小缩放",tooltip:"脉冲动画的最小缩放比例"}),p=w({displayName:"最大缩放",tooltip:"脉冲动画的最大缩放比例"}),h=w({displayName:"动画速度",tooltip:"脉冲动画的速度倍数"}),m=w({type:cc.Enum(["linear","ease-in","ease-out","ease-in-out","sine"]),displayName:"缓动类型",tooltip:"动画的缓动效果类型"}),y=w({displayName:"自动播放",tooltip:"组件加载后是否自动开始播放动画"}),c((S=i((d=function(e){function i(){for(var i,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,t(i,"minScale",S,s(i)),t(i,"maxScale",g,s(i)),t(i,"speed",P,s(i)),t(i,"easing",b,s(i)),t(i,"autoPlay",v,s(i)),i.initialScale=new o,i.pulseTime=0,i.isPlaying=!1,i.isPaused=!1,i.easingNames=["linear","ease-in","ease-out","ease-in-out","sine"],i}a(i,e);var n=i.prototype;return n.onLoad=function(){this.initialScale.set(this.node.getScale()),this.autoPlay&&this.play()},n.applyEasing=function(e,i){switch(i){case"linear":return e;case"ease-in":return e*e;case"ease-out":return e*(2-e);case"ease-in-out":return e<.5?2*e*e:(4-2*e)*e-1;case"sine":default:return Math.sin(e*Math.PI)}},n.calculateScale=function(){var e=.5*Math.sin(this.pulseTime*this.speed)+.5,i=this.easingNames[this.easing]||"sine",a=this.applyEasing(e,i);return this.minScale+(this.maxScale-this.minScale)*a},n.applyScale=function(){var e=this.calculateScale();this.node.setScale(this.initialScale.x*e,this.initialScale.y*e,this.initialScale.z)},n.update=function(e){this.isPlaying&&!this.isPaused&&(this.pulseTime+=e,this.applyScale())},n.play=function(){this.isPlaying=!0,this.isPaused=!1,this.pulseTime=0},n.stop=function(){this.isPlaying=!1,this.isPaused=!1,this.pulseTime=0,this.node.setScale(this.initialScale)},n.pause=function(){this.isPaused=!0},n.resume=function(){this.isPlaying&&(this.isPaused=!1)},n.setConfig=function(e){if(void 0!==e.minScale&&(this.minScale=e.minScale),void 0!==e.maxScale&&(this.maxScale=e.maxScale),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.easing){var i=this.easingNames.indexOf(e.easing);-1!==i&&(this.easing=i)}void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay,e.autoPlay&&!this.isPlaying&&this.play())},n.getStatus=function(){return{isPlaying:this.isPlaying,isPaused:this.isPaused,time:this.pulseTime}},n.resetInitialScale=function(){this.initialScale.set(this.node.getScale())},n.setPulseTime=function(e){this.pulseTime=e},n.onDestroy=function(){this.stop()},i}(u)).prototype,"minScale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=i(d.prototype,"maxScale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),P=i(d.prototype,"speed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),b=i(d.prototype,"easing",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),v=i(d.prototype,"autoPlay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=d))||f)),e("PulsePresets",{gentle:{minScale:1,maxScale:1.05,speed:3,easing:"sine",autoPlay:!0},moderate:{minScale:1,maxScale:1.15,speed:5,easing:"ease-in-out",autoPlay:!0},strong:{minScale:1,maxScale:1.3,speed:8,easing:"sine",autoPlay:!0},heartbeat:{minScale:1,maxScale:1.1,speed:6,easing:"ease-out",autoPlay:!0},breathing:{minScale:.95,maxScale:1.05,speed:2,easing:"ease-in-out",autoPlay:!0}});n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSetup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NativeHelper.ts"],(function(e){var t,n,i,o,r,s,c,a,u,l,p,S,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Enum,a=e.view,u=e.ResolutionPolicy,l=e.sys,p=e.screen,S=e.Component},function(e){A=e.NativeHelper}],execute:function(){var R,f,O,P,D;r._RF.push({},"8fe5d+GXdFPRpvFk3dTFlnu","SceneSetup",void 0);var v=s.ccclass,L=s.property,y=function(e){return e[e.PORTRAIT=0]="PORTRAIT",e[e.LANDSCAPE=1]="LANDSCAPE",e}(y||{});c(y);e("SceneSetup",(R=v("SceneSetup"),f=L({type:y,tooltip:"设置当前场景期望的屏幕方向。\nPORTRAIT: 竖屏 (720x1280)\nLANDSCAPE: 横屏 (1280x720)"}),R((D=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"orientation",D,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.setupScene()},r.setupScene=function(){this.orientation===y.LANDSCAPE?(a.setDesignResolutionSize(1280,720,u.SHOW_ALL),l.isNative&&l.os===l.OS.ANDROID?A.setLandscape():p.setOrientation(p.Orientation.LANDSCAPE),console.log("场景已设置为横屏：1280x720")):(a.setDesignResolutionSize(720,1280,u.SHOW_ALL),l.isNative&&l.os===l.OS.ANDROID?A.setPortrait():p.setOrientation(p.Orientation.PORTRAIT),console.log("场景已设置为竖屏：720x1280"))},t}(S)).prototype,"orientation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.PORTRAIT}}),O=P))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitcherBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,c,a,s,l,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.ProgressBar,s=e.tween,l=e.director,p=e.Component}],execute:function(){var u,f,h,g,d,S,y;i._RF.push({},"3d4851q7gBBx7XpkUDQWdif","SceneSwitcherBar",void 0);var w=c.ccclass,B=c.property;e("SceneSwitcher",(u=w("SceneSwitcher"),f=B({type:String,tooltip:"要跳转到的目标场景名称"}),h=B({type:a,tooltip:"用于显示加载进度的进度条"}),u((S=r((d=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(r,"sceneName",S,o(r)),n(r,"progressBar",y,o(r)),r}t(r,e);var i=r.prototype;return i.onLoad=function(){var e=this;this.progressBar?(this.progressBar.progress=0,s(this.progressBar).to(2,{progress:1},{onUpdate:function(e,r){}}).call((function(){e.loadNewScene()})).start()):console.warn("未关联进度条组件，无法显示进度！")},i.loadNewScene=function(){this.sceneName?l.loadScene(this.sceneName):console.error("场景名称未设置，无法跳转！")},r}(p)).prototype,"sceneName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=r(d.prototype,"progressBar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});