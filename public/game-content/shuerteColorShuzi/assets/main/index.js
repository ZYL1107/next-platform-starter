System.register("chunks:///_virtual/CellController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(n){var t,o,e,r,i,l,a,s,c,u,b,g,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,l=n._decorator,a=n.Label,s=n.Sprite,c=n.Button,u=n.Color,b=n.Vec3,g=n.tween,h=n.Component},function(n){p=n.GameManager}],execute:function(){var m,f,C,d,v,y,w,k,A;i._RF.push({},"fd7f4mDKupFnZ7vqJxTEKma","CellController",void 0);var L=l.ccclass,z=l.property;n("CellController",(m=L("CellController"),f=z(a),C=z(s),d=z(c),m((w=t((y=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=n.call.apply(n,[this].concat(i))||this,e(t,"numberLabel",w,r(t)),e(t,"background",k,r(t)),e(t,"button",A,r(t)),t.cellNumber=0,t.originalColor=new u(255,255,255,255),t.isAnimating=!1,t}o(t,n);var i=t.prototype;return i.init=function(n,t){this.cellNumber=n,this.numberLabel&&(this.numberLabel.string=n.toString(),this.numberLabel.color=new u(255,255,255,255),console.log("格子 "+n+" 数字颜色设置为白色")),this.background&&(this.originalColor=this.hexToColor(t),this.background.color=this.originalColor.clone(),console.log("格子 "+n+" 背景颜色设置为: "+t)),this.node.setScale(new b(1,1,1)),this.button&&(this.button.interactable=!0)},i.onCellClicked=function(){var n;if(!this.isAnimating){var t=null==(n=this.node.parent)||null==(n=n.parent)?void 0:n.parent,o=null==t?void 0:t.getChildByName("GameLayer"),e=null==o?void 0:o.getComponent(p);if(e){if(e.getIsGameRunning())e.checkNumber(this.cellNumber)?this.playCorrectAnimation():this.playWrongAnimation()}else console.error("找不到 GameManager")}},i.playCorrectAnimation=function(){var n=this;if(this.background){this.isAnimating=!0;var t=new u(46,204,113,255);g(this.background).to(.2,{color:t}).call((function(){n.isAnimating=!1,n.button&&(n.button.interactable=!1)})).start()}},i.playWrongAnimation=function(){var n=this;if(this.background){this.isAnimating=!0;var t=new u(231,76,60,255),o=this.node.scale.clone();g(this.background).to(.1,{color:t}).to(.1,{color:this.originalColor}).to(.1,{color:t}).to(.1,{color:this.originalColor}).to(.1,{color:t}).to(.1,{color:this.originalColor}).call((function(){n.isAnimating=!1})).start(),g(this.node).to(.05,{scale:new b(1.1,1.1,1)}).to(.05,{scale:new b(.9,.9,1)}).to(.05,{scale:new b(1.1,1.1,1)}).to(.05,{scale:new b(.9,.9,1)}).to(.1,{scale:o}).start()}},i.hexToColor=function(n){n=n.replace("#","");var t=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),e=parseInt(n.substring(4,6),16);return new u(t,o,e,255)},t}(h)).prototype,"numberLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(y.prototype,"background",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(y.prototype,"button",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridManager.ts","./TimerController.ts","./ResultPanel.ts"],(function(e){var t,n,r,l,i,o,s,a,u,c,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,a=e.Label,u=e.Component},function(e){c=e.GridManager},function(e){m=e.TimerController},function(e){h=e.ResultPanel}],execute:function(){var g,p,f,b,R,P,G,w,d,C,v;i._RF.push({},"bedde024txO5qvmgM2O61ER","GameManager",void 0);var y=o.ccclass,M=o.property;e("GameManager",(g=y("GameManager"),p=M(s),f=M(s),b=M(s),R=M(a),g((w=t((G=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"gridManager",w,l(t)),r(t,"timerController",d,l(t)),r(t,"resultPanel",C,l(t)),r(t,"hintLabel",v,l(t)),t.currentNumber=1,t.totalNumbers=25,t.isGameRunning=!1,t.startTime=0,t}n(t,e);var i=t.prototype;return i.start=function(){this.startNewGame()},i.startNewGame=function(){var e,t;(this.currentNumber=1,this.isGameRunning=!0,this.startTime=Date.now(),this.resultPanel&&(this.resultPanel.active=!1),this.hintLabel&&(this.hintLabel.string="Please click in order 1-"+this.totalNumbers),this.gridManager)&&(null==(e=this.gridManager.getComponent(c))||e.initializeGrid());this.timerController&&(null==(t=this.timerController.getComponent(m))||t.startTimer(30))},i.checkNumber=function(e){if(!this.isGameRunning)return!1;var t=e===this.currentNumber;return t&&(this.currentNumber++,this.currentNumber>this.totalNumbers&&this.onGameComplete()),t},i.onGameComplete=function(){this.isGameRunning=!1;var e,t=(Date.now()-this.startTime)/1e3;(console.log("游戏完成！用时:",t),this.timerController)&&(null==(e=this.timerController.getComponent(m))||e.stopTimer());if(this.resultPanel){console.log("ResultPanel 节点存在:",this.resultPanel.name);var n=this.resultPanel.getComponent(h);if(console.log("ResultPanel 组件:",n),n){console.log("准备调用 showResult...");try{n.showResult(!0,t),console.log("showResult 调用完成")}catch(e){console.error("调用 showResult 时出错:",e)}}else console.error("❌ 找不到 ResultPanel 组件！")}else console.error("❌ resultPanel 节点未绑定！")},i.onTimeUp=function(){if(this.isGameRunning)if(this.isGameRunning=!1,console.log("时间到！游戏失败"),this.resultPanel){console.log("ResultPanel 节点存在:",this.resultPanel.name);var e=this.resultPanel.getComponent(h);if(console.log("ResultPanel 组件:",e),e){console.log("准备调用 showResult...");try{e.showResult(!1,0),console.log("showResult 调用完成")}catch(e){console.error("调用 showResult 时出错:",e)}}else console.error("❌ 找不到 ResultPanel 组件！")}else console.error("❌ resultPanel 节点未绑定！")},i.getIsGameRunning=function(){return this.isGameRunning},t}(u)).prototype,"gridManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(G.prototype,"timerController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(G.prototype,"resultPanel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(G.prototype,"hintLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=G))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/GridManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellController.ts"],(function(e){var r,t,n,o,i,a,l,s,c,u,d,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.Node,c=e.instantiate,u=e.Layout,d=e.Component},function(e){f=e.CellController}],execute:function(){var h,g,p,C,v,m,b;i._RF.push({},"4d249Ntwv9Bqo91QYakr5tM","GridManager",void 0);var y=a.ccclass,M=a.property;e("GridManager",(h=y("GridManager"),g=M(l),p=M(s),h((m=r((v=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,n(r,"cellPrefab",m,o(r)),n(r,"gridContainer",b,o(r)),r.cellNodes=[],r.gridSize=5,r.totalCells=25,r}t(r,e);var i=r.prototype;return i.initializeGrid=function(){this.clearGrid();for(var e=this.generateRandomNumbers(),r=0;r<this.totalCells;r++){var t=c(this.cellPrefab),n=t.getComponent(f);if(n){var o=this.getRandomColor();console.log("创建格子 "+e[r]+", 颜色: "+o),n.init(e[r],o)}this.gridContainer.addChild(t),this.cellNodes.push(t)}var i=this.gridContainer.getComponent(u);i&&i.updateLayout(),console.log("方格初始化完成")},i.generateRandomNumbers=function(){for(var e=[],r=1;r<=this.totalCells;r++)e.push(r);for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=[e[n],e[t]];e[t]=o[0],e[n]=o[1]}return e},i.getRandomColor=function(){var e=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E2"];return e[Math.floor(Math.random()*e.length)]},i.clearGrid=function(){this.cellNodes.forEach((function(e){e.isValid&&e.destroy()})),this.cellNodes=[]},r}(d)).prototype,"cellPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(v.prototype,"gridContainer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CellController.ts","./GameManager.ts","./GridManager.ts","./ResultPanel.ts","./SceneSwitcherBar.ts","./TimerController.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ResultPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var t,o,n,l,a,i,r,s,c,u,h,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,r=e.Label,s=e.Button,c=e.Node,u=e.Vec3,h=e.tween,p=e.Component},function(e){g=e.GameManager}],execute:function(){var b,d,m,f,v,w,y,L,G,N,R;a._RF.push({},"39c10yS/FFGGp8jbZbbUhfs","ResultPanel",void 0);var B=i.ccclass,P=i.property;e("ResultPanel",(b=B("ResultPanel"),d=P(r),m=P(r),f=P(s),v=P(c),b((L=t((y=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,n(t,"titleLabel",L,l(t)),n(t,"timeLabel",G,l(t)),n(t,"restartButton",N,l(t)),n(t,"panelNode",R,l(t)),t}o(t,e);var a=t.prototype;return a.onLoad=function(){console.log("=== ResultPanel onLoad 方法执行 ==="),console.log("节点:",this.node.name),console.log("初始 active:",this.node.active),this.node.active=!1,console.log("设置为隐藏后 active:",this.node.active)},a.showResult=function(e,t){console.log("=== showResult 被调用 ==="),console.log("成功:",e,"时间:",t),console.log("当前节点 active:",this.node.active),this.node.active=!0,console.log("设置后 active:",this.node.active),this.titleLabel?(this.titleLabel.string=e?"🎉 Challenge successful！":"⏰ Keep up the good work!",console.log("标题设置为:",this.titleLabel.string)):console.error("❌ titleLabel 未绑定！"),this.timeLabel?(this.timeLabel.string=e?"Challenge Time："+t.toFixed(2)+"s":"Time is up, try again.！",console.log("时间文字设置为:",this.timeLabel.string)):console.error("❌ timeLabel 未绑定！"),this.playShowAnimation()},a.playShowAnimation=function(){this.panelNode?(console.log("播放弹出动画"),this.panelNode.setScale(new u(.5,.5,1)),h(this.panelNode).to(.3,{scale:new u(1.1,1.1,1)},{easing:"backOut"}).to(.1,{scale:new u(1,1,1)}).start()):console.warn("⚠️ panelNode 未绑定，跳过动画")},a.onRestartClicked=function(){var e=this;if(console.log("重新开始按钮被点击"),this.restartButton){var t=this.restartButton.node;h(t).to(.1,{scale:new u(.9,.9,1)}).to(.1,{scale:new u(1,1,1)}).call((function(){e.restartGame()})).start()}else this.restartGame()},a.restartGame=function(){console.log("执行重新开始游戏"),this.node.active=!1;var e=this.node.parent,t=null==e?void 0:e.getChildByName("GameLayer"),o=null==t?void 0:t.getComponent(g);o?(console.log("调用 GameManager.startNewGame()"),o.startNewGame()):console.error("❌ 找不到 GameManager")},t}(p)).prototype,"titleLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(y.prototype,"timeLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(y.prototype,"restartButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(y.prototype,"panelNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitcherBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,c,a,s,l,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.ProgressBar,s=e.tween,l=e.director,p=e.Component}],execute:function(){var u,h,f,g,S,y,d;i._RF.push({},"e79e9hq6lNO/IeUzt7uH097","SceneSwitcherBar",void 0);var w=c.ccclass,B=c.property;e("SceneSwitcher",(u=w("SceneSwitcher"),h=B({type:String,tooltip:"要跳转到的目标场景名称"}),f=B({type:a,tooltip:"用于显示加载进度的进度条"}),u((y=r((S=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(r,"sceneName",y,o(r)),n(r,"progressBar",d,o(r)),r}t(r,e);var i=r.prototype;return i.onLoad=function(){var e=this;this.progressBar?(this.progressBar.progress=0,s(this.progressBar).to(2,{progress:1},{onUpdate:function(e,r){}}).call((function(){e.loadNewScene()})).start()):console.warn("未关联进度条组件，无法显示进度！")},i.loadNewScene=function(){this.sceneName?l.loadScene(this.sceneName):console.error("场景名称未设置，无法跳转！")},r}(p)).prototype,"sceneName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=r(S.prototype,"progressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/TimerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var i,t,n,r,a,l,o,s,m,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,s=e.Color,m=e.Component},function(e){u=e.GameManager}],execute:function(){var c,p,h,v,g;a._RF.push({},"d9a895wzIFGNqTnFB8ZIZOL","TimerController",void 0);var T=l.ccclass,f=l.property;e("TimerController",(c=T("TimerController"),p=f(o),c((g=i((v=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,n(i,"timerLabel",g,r(i)),i.remainingTime=30,i.isRunning=!1,i.timerInterval=null,i}t(i,e);var a=i.prototype;return a.startTimer=function(e){var i=this;this.remainingTime=e,this.isRunning=!0,this.updateDisplay(),this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval((function(){i.isRunning&&(i.remainingTime-=.1,i.remainingTime<=0&&(i.remainingTime=0,i.stopTimer(),i.onTimeUp()),i.updateDisplay())}),100)},a.stopTimer=function(){this.isRunning=!1,this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)},a.updateDisplay=function(){if(this.timerLabel){var e=Math.max(0,this.remainingTime);this.timerLabel.string="Times: "+e.toFixed(1)+"s",e<=5&&e>0?this.timerLabel.color=new s(231,76,60,255):e>5&&(this.timerLabel.color=new s(255,255,255,255))}},a.onTimeUp=function(){var e,i=null==(e=this.node.parent)?void 0:e.parent,t=null==i?void 0:i.getChildByName("GameLayer"),n=null==t?void 0:t.getComponent(u);n&&n.onTimeUp()},a.onDestroy=function(){this.stopTimer()},i}(m)).prototype,"timerLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});