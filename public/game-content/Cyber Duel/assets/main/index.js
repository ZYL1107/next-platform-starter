System.register("chunks:///_virtual/ButtonScaleFeedback.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,s,a,r,l,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Button,l=t.Node,c=t.tween,u=t.Vec3,h=t.Component}],execute:function(){var p,_,d,f,b,y,S;s._RF.push({},"c67bcLCwfBKdakv7Ba1R+VF","ButtonScaleFeedback",void 0);var B=a.ccclass,w=a.property;t("ButtonScaleFeedback",(p=B("ButtonScaleFeedback"),_=w({type:"Float",tooltip:"按钮按下时缩放到的比例 (例如 0.9)"}),d=w({type:"Float",tooltip:"缩放动画持续时间 (秒)"}),p((y=e((b=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"pressScale",y,i(e)),o(e,"duration",S,i(e)),e._originalScale=new u,e._tween=null,e._button=null,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this._button=this.getComponent(r),this._button?(this.node.getScale(this._originalScale),this.node.on(l.EventType.TOUCH_START,this.onButtonPress,this),this.node.on(l.EventType.TOUCH_END,this.onButtonRelease,this),this.node.on(l.EventType.TOUCH_CANCEL,this.onButtonRelease,this)):console.error("ButtonScaleFeedback: 节点上未找到 cc.Button 组件！")},s.onDestroy=function(){this._tween&&(this._tween.stop(),this._tween=null),this.node.off(l.EventType.TOUCH_START,this.onButtonPress,this),this.node.off(l.EventType.TOUCH_END,this.onButtonRelease,this),this.node.off(l.EventType.TOUCH_CANCEL,this.onButtonRelease,this)},s.onButtonPress=function(){if(this._button&&this._button.interactable){this._tween&&this._tween.stop();var t=this._originalScale.x*this.pressScale,e=this._originalScale.y*this.pressScale;this._tween=c(this.node).to(this.duration,{scale:new u(t,e,this._originalScale.z)},{easing:"quadOut"}).start()}},s.onButtonRelease=function(){this._button&&(this._tween&&this._tween.stop(),this._tween=c(this.node).to(this.duration,{scale:this._originalScale},{easing:"quadOut"}).start())},e}(h)).prototype,"pressScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),S=e(b.prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),f=b))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,a,r,p,l,o,s,y,h,u,c,d,m,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,p=e._decorator,l=e.Animation,o=e.Node,s=e.Label,y=e.Prefab,h=e.Sprite,u=e.SpriteFrame,c=e.tween,d=e.Vec3,m=e.director,b=e.instantiate,f=e.Component}],execute:function(){var A,H,M,v,P,g,x,N,E,F,T,B,S,w,L,z,I,D,C,k,R,_,G,O,U,V,j,K,q;r._RF.push({},"ca7c3mhV3xI96RnUK94MrOD","Game",void 0);var J=p.ccclass,Q=p.property;e("Game",(A=J("Game"),H=Q({type:l}),M=Q({type:o}),v=Q({type:o}),P=Q({type:s}),g=Q({type:s}),x=Q({type:s}),N=Q({type:s}),E=Q({type:o}),F=Q({type:y}),T=Q({type:o}),B=Q({type:h}),S=Q({type:u}),w=Q({type:o}),A((I=t((z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),p=0;p<i;p++)r[p]=arguments[p];return(t=e.call.apply(e,[this].concat(r))||this).playerMaxHp=25,t.playerMaxAp=2,t.playerMaxMp=10,t.playerAttack=5,t.healMpCost=8,t.healHp=5,t.playerMpRecoverSpeed=2,t.enemyMaxHp=20,t.enemyAttack=3,t.playerHp=0,t.playerAp=0,t.playerMp=0,t.enemyHp=0,t.roundType=0,t.maxInventorySize=6,t.inventory=[],n(t,"bgAni",I,a(t)),n(t,"exploreBtn",D,a(t)),n(t,"enemyAreaNode",C,a(t)),n(t,"enemyHpLabel",k,a(t)),n(t,"playerHpLabel",R,a(t)),n(t,"playerApLabel",_,a(t)),n(t,"playerMpLabel",G,a(t)),n(t,"inventoryPanel",O,a(t)),n(t,"potionItemPrefab",U,a(t)),n(t,"itemFoundNode",V,a(t)),n(t,"itemFoundSprite",j,a(t)),n(t,"potionSpriteFrame",K,a(t)),n(t,"restartBtn",q,a(t)),t}i(t,e);var r=t.prototype;return r.initEnemy=function(){this.enemyHp=this.enemyMaxHp,this.enemyHpLabel&&this.updateEnemyHp(this.enemyHp),this.enemyAreaNode&&(this.enemyAreaNode.active=!0,c(this.enemyAreaNode).to(.1,{scale:new d(1.1,1.1,1)}).to(.1,{scale:new d(1,1,1)}).start())},r.updateEnemyHp=function(e){e>this.enemyMaxHp?e=this.enemyMaxHp:e<0&&(e=0),this.enemyHp=e,this.enemyHpLabel&&(this.enemyHpLabel.string=this.enemyHp+"hp"),0==this.enemyHp&&this.handleEnemyDead()},r.handleEnemyDead=function(){this.enemyAreaNode&&(this.enemyAreaNode.active=!1),this.exploreBtn&&(this.exploreBtn.active=!0),this.roundType=0},r.handlePlayerDead=function(){this.restartBtn&&(this.restartBtn.active=!0),this.roundType=-1},r.restartGame=function(){m.loadScene(m.getScene().name)},r.healPlayer=function(e){this.updatePlayerHp(this.playerHp+e)},r.updatePlayerHp=function(e){e>this.playerMaxHp?e=this.playerMaxHp:e<0&&(e=0),this.playerHp=e,this.playerHpLabel&&(this.playerHpLabel.string=""+this.playerHp),this.playerHp<=0&&this.handlePlayerDead()},r.updatePlayerAp=function(e){e>this.playerMaxAp?e=this.playerMaxAp:e<0&&(e=0),this.playerAp=e,this.playerApLabel&&(this.playerApLabel.string=""+this.playerAp)},r.updatePlayerMp=function(e){e>this.playerMaxMp?e=this.playerMaxMp:e<0&&(e=0),this.playerMp=e,this.playerMpLabel&&(this.playerMpLabel.string=""+this.playerMp)},r.initPlayer=function(){this.playerHp=this.playerMaxHp,this.playerAp=this.playerMaxAp,this.playerMp=this.playerMaxMp,this.updatePlayerHp(this.playerHp),this.updatePlayerAp(this.playerAp),this.updatePlayerMp(this.playerMp)},r.handlePlayerActionEnd=function(){this.updatePlayerAp(this.playerAp-1),0==this.playerAp&&this.handlePlayerRoundEnd()},r.handlePlayerRoundEnd=function(){0!==this.roundType||this.playerAp>0||(this.updatePlayerAp(this.playerMaxAp),this.updatePlayerMp(this.playerMp+this.playerMpRecoverSpeed),this.roundType=1,this.handleEnemyAttack())},r.handleEnemyAttack=function(){1!==this.roundType||this.playerHp<=0||(console.log("敌人正在攻击！"),this.updatePlayerHp(this.playerHp-this.enemyAttack),this.roundType=0)},r.handlePlayerAttack=function(){0!==this.roundType||this.playerAp<1||this.enemyHp<=0||!this.enemyAreaNode.active||this.playerHp<=0||(this.updateEnemyHp(this.enemyHp-this.playerAttack),this.enemyAreaNode&&this.enemyAreaNode.getComponent(l)&&this.enemyAreaNode.getComponent(l).play("hurt"),this.handlePlayerActionEnd())},r.handlePlayerHeal=function(){0!==this.roundType||this.playerAp<1||this.playerMp<this.healMpCost||this.playerHp<=0||(this.updatePlayerMp(this.playerMp-this.healMpCost),this.healPlayer(this.healHp),this.handlePlayerActionEnd())},r.usePotion=function(e){console.log("使用魔法药水"),this.healPlayer(5),e.destroy()},r.addItemToInventory=function(){var e=this;if(this.inventoryPanel&&this.potionItemPrefab)if(this.inventoryPanel.children.length<this.maxInventorySize){var t=b(this.potionItemPrefab);this.inventoryPanel.addChild(t),t.on(o.EventType.TOUCH_END,(function(){return e.usePotion(t)}),this),console.log("获得物品: 魔法药水")}else console.log("背包已满，无法添加新物品。");else console.warn("背包容器或物品预制体未设置！")},r.handleExplore=function(){var e=this;this.exploreBtn&&(this.exploreBtn.active=!1),Math.random()<.7?(console.log("探索中... 遭遇敌人!"),this.initEnemy()):(console.log("探索中... 发现物品!"),this.itemFoundNode&&(this.itemFoundNode.active=!0,this.itemFoundSprite&&this.potionSpriteFrame&&(this.itemFoundSprite.spriteFrame=this.potionSpriteFrame),c(this.itemFoundNode).to(.1,{scale:new d(.4,.4,1)}).to(.1,{scale:new d(.3,.3,1)}).delay(1).call((function(){e.itemFoundNode.active=!1,e.addItemToInventory(),e.exploreBtn&&(e.exploreBtn.active=!0)})).start()))},r.start=function(){var e=this;this.exploreBtn&&(this.exploreBtn.active=!0,this.exploreBtn.on(o.EventType.TOUCH_END,this.handleExplore,this)),this.itemFoundNode&&(this.itemFoundNode.active=!1),this.itemFoundSprite&&(this.itemFoundSprite.spriteFrame=null),this.enemyAreaNode&&(this.enemyAreaNode.active=!1),this.initPlayer(),this.bgAni&&this.bgAni.on(l.EventType.FINISHED,(function(){console.log("背景动画结束，进入探索模式"),e.exploreBtn&&(e.exploreBtn.active=!0)}),this),this.enemyAreaNode&&this.enemyAreaNode.getComponent(l)&&this.enemyAreaNode.getComponent(l).on(l.EventType.FINISHED,(function(){1===e.roundType&&(console.log("敌人攻击结束，轮到玩家了"),e.roundType=0)}),this),this.restartBtn&&(this.restartBtn.active=!1,this.restartBtn.on(o.EventType.TOUCH_END,this.restartGame,this))},r.update=function(e){},t}(f)).prototype,"bgAni",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"exploreBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(z.prototype,"enemyAreaNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(z.prototype,"enemyHpLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"playerHpLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"playerApLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"playerMpLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"inventoryPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(z.prototype,"potionItemPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"itemFoundNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"itemFoundSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(z.prototype,"potionSpriteFrame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"restartBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=z))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ButtonScaleFeedback.ts","./Game.ts","./NativeHelper.ts","./PulseEffect.ts","./SceneSetup.ts","./SceneSwitcherBar.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NativeHelper.ts",["cc"],(function(t){var e,c,i,o;return{setters:[function(t){e=t.cclegacy,c=t._decorator,i=t.sys,o=t.native}],execute:function(){var a;e._RF.push({},"96db59vbGhI76c5/8bKYyfw","NativeHelper",void 0);var n=c.ccclass;t("NativeHelper",n("NativeHelper")(a=function(){function t(){}return t.setLandscape=function(){i.isNative&&i.os===i.OS.ANDROID&&o.reflection.callStaticMethod("com/cocos/game/AppActivity","setOrientation","(I)V",0)},t.setPortrait=function(){i.isNative&&i.os===i.OS.ANDROID&&o.reflection.callStaticMethod("com/cocos/game/AppActivity","setOrientation","(I)V",1)},t}())||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/PulseEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,a,t,s,n,l,o,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Vec3,u=e.Component}],execute:function(){var c,r,p,h,m,y,f,d,S,g,P,b,v;n._RF.push({},"4258blurx1PGKrm86MfkmMB","PulseEffect",void 0);var x=l.ccclass,T=l.property;e("PulseEffect",(c=x("PulseEffect"),r=T({displayName:"最小缩放",tooltip:"脉冲动画的最小缩放比例"}),p=T({displayName:"最大缩放",tooltip:"脉冲动画的最大缩放比例"}),h=T({displayName:"动画速度",tooltip:"脉冲动画的速度倍数"}),m=T({type:cc.Enum(["linear","ease-in","ease-out","ease-in-out","sine"]),displayName:"缓动类型",tooltip:"动画的缓动效果类型"}),y=T({displayName:"自动播放",tooltip:"组件加载后是否自动开始播放动画"}),c((S=i((d=function(e){function i(){for(var i,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,t(i,"minScale",S,s(i)),t(i,"maxScale",g,s(i)),t(i,"speed",P,s(i)),t(i,"easing",b,s(i)),t(i,"autoPlay",v,s(i)),i.initialScale=new o,i.pulseTime=0,i.isPlaying=!1,i.isPaused=!1,i.easingNames=["linear","ease-in","ease-out","ease-in-out","sine"],i}a(i,e);var n=i.prototype;return n.onLoad=function(){this.initialScale.set(this.node.getScale()),this.autoPlay&&this.play()},n.applyEasing=function(e,i){switch(i){case"linear":return e;case"ease-in":return e*e;case"ease-out":return e*(2-e);case"ease-in-out":return e<.5?2*e*e:(4-2*e)*e-1;case"sine":default:return Math.sin(e*Math.PI)}},n.calculateScale=function(){var e=.5*Math.sin(this.pulseTime*this.speed)+.5,i=this.easingNames[this.easing]||"sine",a=this.applyEasing(e,i);return this.minScale+(this.maxScale-this.minScale)*a},n.applyScale=function(){var e=this.calculateScale();this.node.setScale(this.initialScale.x*e,this.initialScale.y*e,this.initialScale.z)},n.update=function(e){this.isPlaying&&!this.isPaused&&(this.pulseTime+=e,this.applyScale())},n.play=function(){this.isPlaying=!0,this.isPaused=!1,this.pulseTime=0},n.stop=function(){this.isPlaying=!1,this.isPaused=!1,this.pulseTime=0,this.node.setScale(this.initialScale)},n.pause=function(){this.isPaused=!0},n.resume=function(){this.isPlaying&&(this.isPaused=!1)},n.setConfig=function(e){if(void 0!==e.minScale&&(this.minScale=e.minScale),void 0!==e.maxScale&&(this.maxScale=e.maxScale),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.easing){var i=this.easingNames.indexOf(e.easing);-1!==i&&(this.easing=i)}void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay,e.autoPlay&&!this.isPlaying&&this.play())},n.getStatus=function(){return{isPlaying:this.isPlaying,isPaused:this.isPaused,time:this.pulseTime}},n.resetInitialScale=function(){this.initialScale.set(this.node.getScale())},n.setPulseTime=function(e){this.pulseTime=e},n.onDestroy=function(){this.stop()},i}(u)).prototype,"minScale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=i(d.prototype,"maxScale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),P=i(d.prototype,"speed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),b=i(d.prototype,"easing",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),v=i(d.prototype,"autoPlay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=d))||f)),e("PulsePresets",{gentle:{minScale:1,maxScale:1.05,speed:3,easing:"sine",autoPlay:!0},moderate:{minScale:1,maxScale:1.15,speed:5,easing:"ease-in-out",autoPlay:!0},strong:{minScale:1,maxScale:1.3,speed:8,easing:"sine",autoPlay:!0},heartbeat:{minScale:1,maxScale:1.1,speed:6,easing:"ease-out",autoPlay:!0},breathing:{minScale:.95,maxScale:1.05,speed:2,easing:"ease-in-out",autoPlay:!0}});n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSetup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NativeHelper.ts"],(function(e){var t,n,i,o,r,s,c,a,u,l,p,S,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Enum,a=e.view,u=e.ResolutionPolicy,l=e.sys,p=e.screen,S=e.Component},function(e){A=e.NativeHelper}],execute:function(){var R,O,P,f,D;r._RF.push({},"b34d3eVpMhCPqRQ0MlAjt9l","SceneSetup",void 0);var L=s.ccclass,v=s.property,y=function(e){return e[e.PORTRAIT=0]="PORTRAIT",e[e.LANDSCAPE=1]="LANDSCAPE",e}(y||{});c(y);e("SceneSetup",(R=L("SceneSetup"),O=v({type:y,tooltip:"设置当前场景期望的屏幕方向。\nPORTRAIT: 竖屏 (720x1280)\nLANDSCAPE: 横屏 (1280x720)"}),R((D=t((f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"orientation",D,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.setupScene()},r.setupScene=function(){this.orientation===y.LANDSCAPE?(a.setDesignResolutionSize(1280,720,u.SHOW_ALL),l.isNative&&l.os===l.OS.ANDROID?A.setLandscape():p.setOrientation(p.Orientation.LANDSCAPE),console.log("场景已设置为横屏：1280x720")):(a.setDesignResolutionSize(720,1280,u.SHOW_ALL),l.isNative&&l.os===l.OS.ANDROID?A.setPortrait():p.setOrientation(p.Orientation.PORTRAIT),console.log("场景已设置为竖屏：720x1280"))},t}(S)).prototype,"orientation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.PORTRAIT}}),P=f))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitcherBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,c,a,s,l,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.ProgressBar,s=e.tween,l=e.director,p=e.Component}],execute:function(){var u,h,f,g,S,d,y;i._RF.push({},"6d542tSS8JJo4jmXOh/ubn7","SceneSwitcherBar",void 0);var w=c.ccclass,m=c.property;e("SceneSwitcher",(u=w("SceneSwitcher"),h=m({type:String,tooltip:"要跳转到的目标场景名称"}),f=m({type:a,tooltip:"用于显示加载进度的进度条"}),u((d=r((S=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(r,"sceneName",d,o(r)),n(r,"progressBar",y,o(r)),r}t(r,e);var i=r.prototype;return i.onLoad=function(){var e=this;this.progressBar?(this.progressBar.progress=0,s(this.progressBar).to(2,{progress:1},{onUpdate:function(e,r){}}).call((function(){e.loadNewScene()})).start()):console.warn("未关联进度条组件，无法显示进度！")},i.loadNewScene=function(){this.sceneName?l.loadScene(this.sceneName):console.error("场景名称未设置，无法跳转！")},r}(p)).prototype,"sceneName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=r(S.prototype,"progressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});